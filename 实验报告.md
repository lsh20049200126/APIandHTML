[TOC]



### 优点

使用多模块实现开发，程序封装性良好，界面设计友好，可交互性好

结合html和css和js（

使用css  （例如style.css和高德地图）节省时间：可以编写一次CSS，然后在多个HTML页面中通过外部引入多次重复使用
易于维护：如果要进行全局更改，则只需更改样式，所有网页中的所有元素都将会自动更新。多设备兼容性。且让源码更具有可读性。

使用js实现api调用等功能，实现伪动态网页设计，增加和用户的可交互性，实现更多功能

）

### 缺点

所有页面可以通过直接输入URL访问，不够安全

密码应该被加密存储，而不是以明文形式存储在页面中。



### 遇到的问题以及解决

###### 调用api获取数据失败，查询报错信息以后发现可能是没有按照规定使用和密钥所对应的安全密钥，修改后成功调用api获得数据

官方文档原文

{

添加成功后，可获取到key值和安全密钥jscode（自2021年12月02日升级，升级之后所申请的 key 必须配备安全密钥 jscode 一起使用)

注意：此次升级不会影响之前已获得 key 的使用；升级之后的新增的key必须要配备安全密钥一起使用，具体用法请您参看下文《JSAPI key和安全密钥设置和使用》（本次key升级新增安全密钥，是为了提升广大用户的对自己的key安全有效管理，降低明文传输被窃取的风险 。

}

###### 定位成功但是精度低

------

定位结果：108.8567,34.1688
定位类别：html5
精度：7011 米
是否经过偏移：否

只存在于pc端，后查询发现pc端原生接口html定位精度本来就低，所以一般高德地图api在pc端会优先采用ip高精度定位，但是对于有些ip无法实现该服务，所以只能采用精度低的h5定位

{

Get ipLocation failed：IP精确定位失败，精确IP定位服务目前无法完全覆盖所有用户IP，失败率在5%左右；

}



### 参考手册：

主要来源官方文档

#### AMap.Map(放在定位页面代码讲解)

**地图对象类**，封装了地图的属性设置、图层变更、事件交互等接口的类。
构建代码相关示例

new AMap.Map(div: (String | HTMLDivElement), opts: MapOptions)
参数说明：
div ((String | HTMLDivElement)) 构造一个地图对象，参数container中传入地图容器DIV的ID值或者DIV对象

opts (MapOptions) 地图初始化参数

方法add(features)
添加覆盖物/图层。参数为单个覆盖物/图层，或覆盖物/图层的数组。

#### AMap.Geolocation（放在定位代码）

**AMap.Geolocation 定位服务插件。**

融合了浏览器定位、高精度IP定位、安卓定位sdk辅助定位等多种手段，提供了获取当前准确位置、获取当前城市信息、持续定位(浏览器定位)等功能。用户可以通过两种当时获得定位的成败和结果，一种是在 getCurrentPosition的时候传入回调函数来处理定位结果，一种是通过事件监听来取得定位结果。

new AMap.Geolocation(options: GeolocationOptions)

参数说明：

options `(GeolocationOptions)` 初始化参数

方法

 **getCurrentPosition(callback)**
获取 用户的精确位置，有失败几率

参数说明：
callback (GeolocationCallBack) 定位回调函数，成功或者失败均会回调

**GeolocationCallBack**

Geolocation插件的定位回调函数

Type: Function

参数说明：
status (string) 'complete' 或者 'error'
result (GeolocationResult) 定位结果

#### AMap.Walking（放在路径规划代码）

步行路线规划服务，提供起、终点坐标的驾车导航路线查询功能。

new AMap.Walking(opts: WalkingOptions)

**方法**

**search(origin, destination, callback)**

根据起点、终点坐标，实现步行路线规划

参数说明：

origin `(LngLat)` 起点经纬度

destination `(LngLat)` 终点经纬度

callback `(WalkingCallback)` status为complete时，result为 WalkingResult；当status为error时，result为错误信息info；当status为no_data时，代表检索返回0结果。



（在最后面功能代码讲解后面）

### 开发中体现的可拓展和可维护性

该代码中使用了一些技术和编程方法，从而体现了一定程度的可拓展性和可维护性：

1. 使用外部资源：该代码使用了外部的 AMap 地图 API 和样式表，使得代码更加简洁和易于维护。当需要升级或更换地图 API 时，只需要修改相应的外部资源即可。

2. 分离内容和样式：该代码使用了外部样式表和外部 JavaScript 文件，将样式和脚本与 HTML 内容分离，使得代码更加易于维护和修改。

3. 使用语义化标签：该代码使用了 HTML5 的语义化标签，如 `<header>`, `<nav>`, `<footer>` 等，使得页面结构更加清晰和易于理解。这也使得页面的可拓展性和可维护性更强。

4. 使用回调函数和事件监听器：该代码使用了回调函数和事件监听器等编程技术，从而实现了一定程度的解耦和模块化。当需要添加新的功能时，可以通过添加相应的回调函数或事件监听器来实现，而不需要修改原有的代码。

综上所述，该代码体现了一定程度的可拓展性和可维护性，使得代码更加易于维护和修改。

### 调用API的好处

引用 API 的好处有以下几点：

1. 简化开发流程：使用 API 可以大大简化开发流程，因为 API 通常是由专业的开发人员创建的，这些开发人员已经处理了许多常见的问题。因此，开发人员可以使用 API 来完成一些常见的任务，而无需从头开始编写代码。
2. 提高代码质量：API 可以提高代码质量，因为它们通常经过了广泛的测试和验证。这意味着开发人员可以放心地使用 API，并期望其能够正常工作。此外，API 还可以提供一些基于最佳实践的编程模式和方法，从而提高代码的质量和可维护性。
3. 提高性能：使用 API 可以提高性能，因为 API 通常被优化为执行特定的任务。这意味着 API 可以比自己编写的代码更加高效地完成任务，从而提高应用程序的响应速度和性能。
4. 降低维护成本：使用 API 可以降低维护成本，因为它们通常由第三方提供和维护。这意味着开发人员可以将一些常见的任务分配给 API，并不需要对其进行维护。此外，由于 API 通常具有长期支持，因此开发人员可以放心地使用 API，而不必担心其过时或无法支持。

### 坏处

使用 API 的坏处有以下几点：

1. 限制自由度：使用 API 可能会限制开发人员的自由度，因为 API 通常是为特定的任务而设计的。例如，在使用某个 API 时，开发人员可能无法使用自己的算法或代码来完成任务，这可能会限制其创造力。

2. 依赖第三方：使用 API 可能会使应用程序依赖于第三方服务或库。这意味着如果 API 提供商停止服务或更改 API，则应用程序可能无法正常工作。此外，如果 API 提供商出现故障或安全漏洞，应用程序可能会受到影响。

3. 处理复杂性：使用 API 可能会增加代码的复杂性，特别是当需要处理多个 API 时。这是因为开发人员需要了解每个 API 的工作方式，并将其集成到应用程序中。此外，API 也可能需要使用特定的协议或格式进行通信，这可能需要额外的代码和处理。

4. 限制可扩展性：使用 API 可能会限制应用程序的可扩展性，因为应用程序的功能和特性可能会受到 API 的限制。例如，如果某个 API 不支持某个功能，则应用程序可能无法实现该功能。

综上所述，虽然使用 API 可以提高开发效率、代码质量和性能，但也可能会限制自由度、依赖第三方、增加复杂性和限制可扩展性。因此，在使用 API 时，需要权衡其利弊，并选择最适合应用程序需求的 API。

### 替代API的方法

有以下几种替代 API 的方法：

1. 自己编写代码：自己编写代码可以完全控制代码的功能和实现方式，而不受 API 的限制。但是，这需要开发人员具备一定的编程经验和技能，开发周期可能比使用 API 更长。

2. 使用开源库：开源库是由社区开发和维护的代码库，通常具有一定的功能和灵活性。使用开源库可以在不编写代码的情况下实现一些常见的任务，而不受 API 的限制。但是，使用开源库也需要了解其工作方式和限制。

3. 使用标准协议和格式：标准协议和格式可以使不同的应用程序和系统之间进行通信和交换数据，而不需要使用特定的 API。例如，使用 RESTful API 或 WebSockets 可以使应用程序与服务器进行通信，而不需要使用特定的 API。

4. 使用自己的 API：开发人员可以编写自己的 API，从而满足应用程序的需求。这需要开发人员具备一定的编程经验和技能，并且需要进行完整的测试和验证，以确保其可靠性和安全性。

综上所述，使用自己编写代码、开源库、标准协议和格式或自己的 API 等方法可以替代使用特定的 API。但是，这些方法也需要权衡其利弊，并选择最适合应用程序需求的方法。

### 自己编写 API 需要注意的事项

自己编写 API 需要注意以下几个事项：

1. 明确 API 的目标和需求：在开始编写 API 之前，需要明确 API 的目标和需求，以确保其可以满足应用程序的需求。需要定义 API 的功能、参数、返回值和错误处理等方面的内容。

2. 遵循标准设计原则：在编写 API 时，需要遵循标准的设计原则，例如 RESTful 设计原则、API 设计原则等。这可以使 API 更加可读、可维护、可扩展和可靠。

3. 使用适当的协议和格式：在设计 API 时，需要选择适当的协议和格式，以确保 API 可以与其他应用程序和系统进行通信。例如，可以使用 HTTP 或 HTTPS 协议，并使用 JSON 或 XML 格式进行数据交换。

4. 进行完整的测试和验证：在编写 API 之后，需要进行完整的测试和验证，以确保其可靠性和安全性。需要测试 API 的功能、性能、安全性和容错性等方面的内容，并进行必要的优化和改进。

5. 提供适当的文档和支持：编写 API 后，需要提供适当的文档和支持，以帮助其他开发人员使用和集成 API。需要提供 API 的使用指南、样例代码、错误码和常见问题解答等内容。

综上所述，自己编写 API 需要明确 API 的目标和需求，遵循标准设计原则，使用适当的协议和格式，进行完整的测试和验证，并提供适当的文档和支持。这可以使 API 更加可靠、安全、易用和易于集成。

### 总结

总结报告：

在学习 HTML5 中调用高德地图 API 开发的过程中，我收获了许多知识和经验，以下是我的收获和反思：

收获：

1. 了解了高德地图 API 的使用方法，包括如何引入 API 库、创建地图对象、调用其他 API 等。
2. 学习了如何使用 JavaScript 编写与 HTML 页面交互的代码，以实现地图的显示和交互。
3. 掌握了前端开发中常用的技术和工具，例如 HTML、CSS、JavaScript，以及代码编辑器、调试工具等。

反思：

1. 在实际开发中，需要深入了解高德地图 API 的各种功能和方法，并结合具体应用场景进行调用和应用。

2. 对于前端开发技术和工具需要进行不断的学习和实践，以提高自己的编程能力和开发效率。

3. 在与后端 API 进行集成和部署时，需要进行有效的沟通和协调，以确保前后端的协调和配合。

4. 在开发过程中需要注意代码的可读性和可维护性，并进行及时的代码重构和优化，以提高代码的可用性和性能。

总之，通过学习 HTML5 中调用高德地图 API 开发，我掌握了前端开发的基本技能和知识，并了解了前后端分离的开发模式和实践。